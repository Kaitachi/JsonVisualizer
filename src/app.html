<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" href="%sveltekit.assets%/favicon.png" />
		<meta name="viewport" content="width=device-width" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-transluscent" />
		%sveltekit.head%
	</head>
	<body data-sveltekit-preload-data="hover"
		class="bg-jimmy-lite-200 dark:bg-jimmy-night-800"
		style="transition: background-color: 0.3s;">
		<div style="display: contents">%sveltekit.body%</div>
	</body>
	<script>
		// Handle color scheme to be used
		function setColorScheme() {
			// Does User Agent prefers dark scheme?
			let prefersDarkScheme = window.matchMedia('(prefers-color-scheme: dark)').matches;

			// Fetch theme from homepage theme
			let stackColorScheme = localStorage.StackColorScheme ?? "auto";
			
			if (stackColorScheme === "dark" || (stackColorScheme === "auto" && prefersDarkScheme)) {
				document.documentElement.dataset.colorScheme = "dark";
			} else {
				document.documentElement.dataset.colorScheme = "light";
			}
		}

		setColorScheme();
	</script>
</html>
